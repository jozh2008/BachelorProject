[   {   'expanded': True,
        'help': None,
        'inputs': [   {   'cases': [   {   'inputs': [   {   'cases': [   {   'inputs': [   {   'argument': None,
                                                                                                'edam': {   'edam_data': [   'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             None],
                                                                                                            'edam_formats': [   'format_1930',
                                                                                                                                'format_1930',
                                                                                                                                'format_1930',
                                                                                                                                'format_1929',
                                                                                                                                'format_1929',
                                                                                                                                None]},
                                                                                                'extensions': [   'fastq',
                                                                                                                  'fastq.gz',
                                                                                                                  'fastq.bz2',
                                                                                                                  'fasta',
                                                                                                                  'fasta.gz',
                                                                                                                  'fasta.bz2'],
                                                                                                'help': '',
                                                                                                'hidden': False,
                                                                                                'is_dynamic': False,
                                                                                                'label': 'Single-end '
                                                                                                         'Fasta/FastQ '
                                                                                                         'file '
                                                                                                         'with '
                                                                                                         'microbiota '
                                                                                                         'reads',
                                                                                                'model_class': 'DataToolParameter',
                                                                                                'multiple': False,
                                                                                                'name': 'in',
                                                                                                'optional': False,
                                                                                                'options': {   'hda': [   ],
                                                                                                               'hdca': [   ]},
                                                                                                'refresh_on_change': True,
                                                                                                'tag': None,
                                                                                                'type': 'data',
                                                                                                'value': None}],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'single'},
                                                                          {   'inputs': [   {   'argument': None,
                                                                                                'edam': {   'edam_data': [   'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             None],
                                                                                                            'edam_formats': [   'format_1930',
                                                                                                                                'format_1930',
                                                                                                                                'format_1930',
                                                                                                                                'format_1929',
                                                                                                                                'format_1929',
                                                                                                                                None]},
                                                                                                'extensions': [   'fastq',
                                                                                                                  'fastq.gz',
                                                                                                                  'fastq.bz2',
                                                                                                                  'fasta',
                                                                                                                  'fasta.gz',
                                                                                                                  'fasta.bz2'],
                                                                                                'help': '',
                                                                                                'hidden': False,
                                                                                                'is_dynamic': False,
                                                                                                'label': 'Single-end '
                                                                                                         'Fasta/FastQ '
                                                                                                         'files '
                                                                                                         'with '
                                                                                                         'microbiota '
                                                                                                         'reads',
                                                                                                'max': None,
                                                                                                'min': None,
                                                                                                'model_class': 'DataToolParameter',
                                                                                                'multiple': True,
                                                                                                'name': 'in',
                                                                                                'optional': False,
                                                                                                'options': {   'hda': [   ],
                                                                                                               'hdca': [   ]},
                                                                                                'refresh_on_change': True,
                                                                                                'tag': None,
                                                                                                'type': 'data',
                                                                                                'value': None}],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'multiple'},
                                                                          {   'inputs': [   {   'argument': None,
                                                                                                'edam': {   'edam_data': [   'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             None],
                                                                                                            'edam_formats': [   'format_1930',
                                                                                                                                'format_1930',
                                                                                                                                'format_1930',
                                                                                                                                'format_1929',
                                                                                                                                'format_1929',
                                                                                                                                None]},
                                                                                                'extensions': [   'fastq',
                                                                                                                  'fastq.gz',
                                                                                                                  'fastq.bz2',
                                                                                                                  'fasta',
                                                                                                                  'fasta.gz',
                                                                                                                  'fasta.bz2'],
                                                                                                'help': '',
                                                                                                'hidden': False,
                                                                                                'is_dynamic': False,
                                                                                                'label': 'Forward '
                                                                                                         'paired-end '
                                                                                                         'Fasta/FastQ '
                                                                                                         'file '
                                                                                                         'with '
                                                                                                         'microbiota '
                                                                                                         'reads',
                                                                                                'model_class': 'DataToolParameter',
                                                                                                'multiple': False,
                                                                                                'name': 'in_f',
                                                                                                'optional': False,
                                                                                                'options': {   'hda': [   ],
                                                                                                               'hdca': [   ]},
                                                                                                'refresh_on_change': True,
                                                                                                'tag': None,
                                                                                                'type': 'data',
                                                                                                'value': None},
                                                                                            {   'argument': None,
                                                                                                'edam': {   'edam_data': [   'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             'data_2044',
                                                                                                                             None],
                                                                                                            'edam_formats': [   'format_1930',
                                                                                                                                'format_1930',
                                                                                                                                'format_1930',
                                                                                                                                'format_1929',
                                                                                                                                'format_1929',
                                                                                                                                None]},
                                                                                                'extensions': [   'fastq',
                                                                                                                  'fastq.gz',
                                                                                                                  'fastq.bz2',
                                                                                                                  'fasta',
                                                                                                                  'fasta.gz',
                                                                                                                  'fasta.bz2'],
                                                                                                'help': '',
                                                                                                'hidden': False,
                                                                                                'is_dynamic': False,
                                                                                                'label': 'Reverse '
                                                                                                         'paired-end '
                                                                                                         'Fasta/FastQ '
                                                                                                         'file '
                                                                                                         'with '
                                                                                                         'microbiota '
                                                                                                         'reads',
                                                                                                'model_class': 'DataToolParameter',
                                                                                                'multiple': False,
                                                                                                'name': 'in_r',
                                                                                                'optional': False,
                                                                                                'options': {   'hda': [   ],
                                                                                                               'hdca': [   ]},
                                                                                                'refresh_on_change': True,
                                                                                                'tag': None,
                                                                                                'type': 'data',
                                                                                                'value': None}],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'paired'}],
                                                             'model_class': 'Conditional',
                                                             'name': 'raw_in',
                                                             'test_param': {   'argument': None,
                                                                               'display': None,
                                                                               'help': '',
                                                                               'hidden': False,
                                                                               'is_dynamic': False,
                                                                               'label': 'Fasta/FastQ '
                                                                                        'file(s) '
                                                                                        'with '
                                                                                        'microbiota '
                                                                                        'reads',
                                                                               'model_class': 'SelectToolParameter',
                                                                               'multiple': False,
                                                                               'name': 'selector',
                                                                               'optional': False,
                                                                               'options': [   [   'One '
                                                                                                  'single-end '
                                                                                                  'file',
                                                                                                  'single',
                                                                                                  True],
                                                                                              [   'Multiple '
                                                                                                  'single-end '
                                                                                                  'files',
                                                                                                  'multiple',
                                                                                                  False],
                                                                                              [   'Paired-end '
                                                                                                  'files',
                                                                                                  'paired',
                                                                                                  False]],
                                                                               'refresh_on_change': True,
                                                                               'textable': False,
                                                                               'type': 'select',
                                                                               'value': 'single'},
                                                             'type': 'conditional'},
                                                         {   'area': False,
                                                             'argument': '--read_min_len',
                                                             'datalist': [],
                                                             'help': '',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'Minimum '
                                                                      'length '
                                                                      'of the '
                                                                      'reads '
                                                                      'to be '
                                                                      'considered '
                                                                      'when '
                                                                      'parsing '
                                                                      'the '
                                                                      'input '
                                                                      'file',
                                                             'max': None,
                                                             'min': None,
                                                             'model_class': 'IntegerToolParameter',
                                                             'name': 'read_min_len',
                                                             'optional': False,
                                                             'refresh_on_change': False,
                                                             'type': 'integer',
                                                             'value': '70'},
                                                         {   'expanded': True,
                                                             'help': None,
                                                             'inputs': [   {   'argument': '--bt2_ps',
                                                                               'display': None,
                                                                               'help': 'Applied '
                                                                                       'only '
                                                                                       'with '
                                                                                       'FASTA '
                                                                                       'files',
                                                                               'hidden': False,
                                                                               'is_dynamic': False,
                                                                               'label': 'Presets '
                                                                                        'options '
                                                                                        'for '
                                                                                        'BowTie2',
                                                                               'model_class': 'SelectToolParameter',
                                                                               'multiple': False,
                                                                               'name': 'bt2_ps',
                                                                               'optional': False,
                                                                               'options': [   [   'Sensitive',
                                                                                                  'sensitive',
                                                                                                  False],
                                                                                              [   'Very '
                                                                                                  'sensitive',
                                                                                                  'very-sensitive',
                                                                                                  True],
                                                                                              [   'Sensitive '
                                                                                                  'local',
                                                                                                  'sensitive-local',
                                                                                                  False],
                                                                                              [   'Very '
                                                                                                  'sensitive '
                                                                                                  'local',
                                                                                                  'very-sensitive-local',
                                                                                                  False]],
                                                                               'refresh_on_change': False,
                                                                               'textable': False,
                                                                               'type': 'select',
                                                                               'value': 'very-sensitive'},
                                                                           {   'area': False,
                                                                               'argument': '--min_mapq_val',
                                                                               'datalist': [   ],
                                                                               'help': '',
                                                                               'hidden': False,
                                                                               'is_dynamic': False,
                                                                               'label': 'Minimum '
                                                                                        'mapping '
                                                                                        'quality '
                                                                                        'value '
                                                                                        '(MAPQ)',
                                                                               'max': None,
                                                                               'min': None,
                                                                               'model_class': 'IntegerToolParameter',
                                                                               'name': 'min_mapq_val',
                                                                               'optional': False,
                                                                               'refresh_on_change': False,
                                                                               'type': 'integer',
                                                                               'value': '5'}],
                                                             'model_class': 'Section',
                                                             'name': 'mapping',
                                                             'title': 'Mapping',
                                                             'type': 'section'}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'raw'},
                                       {   'inputs': [   {   'argument': None,
                                                             'edam': {   'edam_data': [   'data_0863'],
                                                                         'edam_formats': [   'format_2573']},
                                                             'extensions': [   'sam'],
                                                             'help': 'BowTie2 '
                                                                     'needs to '
                                                                     'be used '
                                                                     'first to '
                                                                     'map '
                                                                     'microbiota '
                                                                     'reads',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'Externally '
                                                                      'BowTie2-mapped '
                                                                      'SAM '
                                                                      'file',
                                                             'model_class': 'DataToolParameter',
                                                             'multiple': False,
                                                             'name': 'in',
                                                             'optional': False,
                                                             'options': {   'hda': [   ],
                                                                            'hdca': [   ]},
                                                             'refresh_on_change': True,
                                                             'tag': None,
                                                             'type': 'data',
                                                             'value': None}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'sam'},
                                       {   'inputs': [   {   'argument': None,
                                                             'edam': {   'edam_data': [   'data_0006'],
                                                                         'edam_formats': [   'format_3475']},
                                                             'extensions': [   'tabular'],
                                                             'help': 'File '
                                                                     'needs to '
                                                                     'be '
                                                                     'generated '
                                                                     'with '
                                                                     'MetaPhlAn '
                                                                     'versions '
                                                                     '>3.0',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'Intermediary '
                                                                      'mapping '
                                                                      'file of '
                                                                      'the '
                                                                      'microbiota '
                                                                      'generated '
                                                                      'by a '
                                                                      'previous '
                                                                      'MetaPhlAn '
                                                                      'run',
                                                             'model_class': 'DataToolParameter',
                                                             'multiple': False,
                                                             'name': 'in',
                                                             'optional': False,
                                                             'options': {   'hda': [   ],
                                                                            'hdca': [   ]},
                                                             'refresh_on_change': True,
                                                             'tag': None,
                                                             'type': 'data',
                                                             'value': None}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'bowtie2out'}],
                          'model_class': 'Conditional',
                          'name': 'in',
                          'test_param': {   'argument': None,
                                            'display': None,
                                            'help': '',
                                            'hidden': False,
                                            'is_dynamic': False,
                                            'label': 'Input(s)',
                                            'model_class': 'SelectToolParameter',
                                            'multiple': False,
                                            'name': 'selector',
                                            'optional': False,
                                            'options': [   [   'Fasta/FastQ '
                                                               'file(s) with '
                                                               'microbiota '
                                                               'reads',
                                                               'raw',
                                                               True],
                                                           [   'Externally '
                                                               'BowTie2-mapped '
                                                               'SAM file',
                                                               'sam',
                                                               False],
                                                           [   'Intermediary '
                                                               'mapping file '
                                                               'of the '
                                                               'microbiota '
                                                               'generated by a '
                                                               'previous '
                                                               'MetaPhlAn run',
                                                               'bowtie2out',
                                                               False]],
                                            'refresh_on_change': True,
                                            'textable': False,
                                            'type': 'select',
                                            'value': 'raw'},
                          'type': 'conditional'},
                      {   'cases': [   {   'inputs': [   {   'argument': None,
                                                             'display': None,
                                                             'help': '',
                                                             'hidden': False,
                                                             'is_dynamic': True,
                                                             'label': 'Cached '
                                                                      'database '
                                                                      'with '
                                                                      'clade-specific '
                                                                      'marker '
                                                                      'genes',
                                                             'model_class': 'SelectToolParameter',
                                                             'multiple': False,
                                                             'name': 'cached_db',
                                                             'optional': False,
                                                             'options': [   [   'MetaPhlAn '
                                                                                'clade-specific '
                                                                                'marker '
                                                                                'genes '
                                                                                '(mpa_vOct22_CHOCOPhlAnSGB_202212)',
                                                                                'mpa_vOct22_CHOCOPhlAnSGB_202212-03042023',
                                                                                False],
                                                                            [   'MetaPhlAn '
                                                                                'clade-specific '
                                                                                'marker '
                                                                                'genes '
                                                                                '(mpa_vJan21_CHOCOPhlAnSGB_202103)',
                                                                                'mpa_vJan21_CHOCOPhlAnSGB_202103-04042023',
                                                                                False]],
                                                             'refresh_on_change': False,
                                                             'textable': False,
                                                             'type': 'select',
                                                             'value': 'mpa_vOct22_CHOCOPhlAnSGB_202212-03042023'}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'cached'},
                                       {   'inputs': [   {   'argument': '--bowtie2db',
                                                             'edam': {   'edam_data': [   'data_2044'],
                                                                         'edam_formats': [   'format_1929']},
                                                             'extensions': [   'fasta'],
                                                             'help': '',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'Database '
                                                                      'with '
                                                                      'clade-specific '
                                                                      'marker '
                                                                      'genes '
                                                                      'from '
                                                                      'history',
                                                             'model_class': 'DataToolParameter',
                                                             'multiple': False,
                                                             'name': 'bowtie2db',
                                                             'optional': False,
                                                             'options': {   'hda': [   ],
                                                                            'hdca': [   ]},
                                                             'refresh_on_change': True,
                                                             'tag': None,
                                                             'type': 'data',
                                                             'value': None},
                                                         {   'argument': '--mpa_pkl',
                                                             'edam': {   'edam_data': [   'data_0006'],
                                                                         'edam_formats': [   'format_3464']},
                                                             'extensions': [   'json'],
                                                             'help': '',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'Metadata '
                                                                      'associated '
                                                                      'to the '
                                                                      'database '
                                                                      'with '
                                                                      'clade-specific '
                                                                      'marker '
                                                                      'genes '
                                                                      'from '
                                                                      'history',
                                                             'model_class': 'DataToolParameter',
                                                             'multiple': False,
                                                             'name': 'mpa_pkl',
                                                             'optional': False,
                                                             'options': {   'hda': [   ],
                                                                            'hdca': [   ]},
                                                             'refresh_on_change': True,
                                                             'tag': None,
                                                             'type': 'data',
                                                             'value': None}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'history'}],
                          'model_class': 'Conditional',
                          'name': 'db',
                          'test_param': {   'argument': None,
                                            'display': None,
                                            'help': '',
                                            'hidden': False,
                                            'is_dynamic': False,
                                            'label': 'Database with '
                                                     'clade-specific marker '
                                                     'genes',
                                            'model_class': 'SelectToolParameter',
                                            'multiple': False,
                                            'name': 'db_selector',
                                            'optional': False,
                                            'options': [   [   'Locally cached',
                                                               'cached',
                                                               True],
                                                           [   'From history',
                                                               'history',
                                                               False]],
                                            'refresh_on_change': True,
                                            'textable': False,
                                            'type': 'select',
                                            'value': 'cached'},
                          'type': 'conditional'}],
        'model_class': 'Section',
        'name': 'inputs',
        'title': 'Inputs',
        'type': 'section'},
    {   'expanded': True,
        'help': None,
        'inputs': [   {   'cases': [   {   'inputs': [   {   'cases': [   {   'inputs': [   {   'argument': None,
                                                                                                'falsevalue': 'false',
                                                                                                'help': 'It '
                                                                                                        'will '
                                                                                                        'be '
                                                                                                        'in '
                                                                                                        'addition '
                                                                                                        'to '
                                                                                                        'the '
                                                                                                        'default '
                                                                                                        'output',
                                                                                                'hidden': False,
                                                                                                'is_dynamic': False,
                                                                                                'label': 'Generate '
                                                                                                         'a '
                                                                                                         'report '
                                                                                                         'for '
                                                                                                         'each '
                                                                                                         'taxonomic '
                                                                                                         'level?',
                                                                                                'model_class': 'BooleanToolParameter',
                                                                                                'name': 'split_levels',
                                                                                                'optional': False,
                                                                                                'refresh_on_change': False,
                                                                                                'truevalue': 'true',
                                                                                                'type': 'boolean',
                                                                                                'value': False}],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'a'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'k'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'p'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'c'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'o'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'f'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'g'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 's'}],
                                                             'model_class': 'Conditional',
                                                             'name': 'tax_lev',
                                                             'test_param': {   'argument': '--tax_lev',
                                                                               'display': None,
                                                                               'help': '',
                                                                               'hidden': False,
                                                                               'is_dynamic': False,
                                                                               'label': 'Taxonomic '
                                                                                        'level '
                                                                                        'for '
                                                                                        'the '
                                                                                        'relative '
                                                                                        'abundance '
                                                                                        'output',
                                                                               'model_class': 'SelectToolParameter',
                                                                               'multiple': False,
                                                                               'name': 'tax_lev',
                                                                               'optional': False,
                                                                               'options': [   [   'All '
                                                                                                  'taxonomic '
                                                                                                  'levels',
                                                                                                  'a',
                                                                                                  True],
                                                                                              [   'Kingdoms '
                                                                                                  'only',
                                                                                                  'k',
                                                                                                  False],
                                                                                              [   'Phyla '
                                                                                                  'only',
                                                                                                  'p',
                                                                                                  False],
                                                                                              [   'Classes '
                                                                                                  'only',
                                                                                                  'c',
                                                                                                  False],
                                                                                              [   'Orders '
                                                                                                  'only',
                                                                                                  'o',
                                                                                                  False],
                                                                                              [   'Families '
                                                                                                  'only',
                                                                                                  'f',
                                                                                                  False],
                                                                                              [   'Genera '
                                                                                                  'only',
                                                                                                  'g',
                                                                                                  False],
                                                                                              [   'Species '
                                                                                                  'only',
                                                                                                  's',
                                                                                                  False]],
                                                                               'refresh_on_change': True,
                                                                               'textable': False,
                                                                               'type': 'select',
                                                                               'value': 'a'},
                                                             'type': 'conditional'}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'rel_ab'},
                                       {   'inputs': [   {   'cases': [   {   'inputs': [   {   'argument': None,
                                                                                                'falsevalue': 'false',
                                                                                                'help': 'It '
                                                                                                        'will '
                                                                                                        'be '
                                                                                                        'in '
                                                                                                        'addition '
                                                                                                        'to '
                                                                                                        'the '
                                                                                                        'default '
                                                                                                        'output',
                                                                                                'hidden': False,
                                                                                                'is_dynamic': False,
                                                                                                'label': 'Generate '
                                                                                                         'a '
                                                                                                         'report '
                                                                                                         'for '
                                                                                                         'each '
                                                                                                         'taxonomic '
                                                                                                         'level?',
                                                                                                'model_class': 'BooleanToolParameter',
                                                                                                'name': 'split_levels',
                                                                                                'optional': False,
                                                                                                'refresh_on_change': False,
                                                                                                'truevalue': 'true',
                                                                                                'type': 'boolean',
                                                                                                'value': False}],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'a'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'k'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'p'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'c'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'o'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'f'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 'g'},
                                                                          {   'inputs': [   ],
                                                                              'model_class': 'ConditionalWhen',
                                                                              'value': 's'}],
                                                             'model_class': 'Conditional',
                                                             'name': 'tax_lev',
                                                             'test_param': {   'argument': '--tax_lev',
                                                                               'display': None,
                                                                               'help': '',
                                                                               'hidden': False,
                                                                               'is_dynamic': False,
                                                                               'label': 'Taxonomic '
                                                                                        'level '
                                                                                        'for '
                                                                                        'the '
                                                                                        'relative '
                                                                                        'abundance '
                                                                                        'output',
                                                                               'model_class': 'SelectToolParameter',
                                                                               'multiple': False,
                                                                               'name': 'tax_lev',
                                                                               'optional': False,
                                                                               'options': [   [   'All '
                                                                                                  'taxonomic '
                                                                                                  'levels',
                                                                                                  'a',
                                                                                                  True],
                                                                                              [   'Kingdoms '
                                                                                                  'only',
                                                                                                  'k',
                                                                                                  False],
                                                                                              [   'Phyla '
                                                                                                  'only',
                                                                                                  'p',
                                                                                                  False],
                                                                                              [   'Classes '
                                                                                                  'only',
                                                                                                  'c',
                                                                                                  False],
                                                                                              [   'Orders '
                                                                                                  'only',
                                                                                                  'o',
                                                                                                  False],
                                                                                              [   'Families '
                                                                                                  'only',
                                                                                                  'f',
                                                                                                  False],
                                                                                              [   'Genera '
                                                                                                  'only',
                                                                                                  'g',
                                                                                                  False],
                                                                                              [   'Species '
                                                                                                  'only',
                                                                                                  's',
                                                                                                  False]],
                                                                               'refresh_on_change': True,
                                                                               'textable': False,
                                                                               'type': 'select',
                                                                               'value': 'a'},
                                                             'type': 'conditional'}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'rel_ab_w_read_stats'},
                                       {   'inputs': [],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'reads_map'},
                                       {   'inputs': [],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'clade_profiles'},
                                       {   'inputs': [   {   'area': False,
                                                             'argument': '--clade',
                                                             'datalist': [],
                                                             'help': 'Markers '
                                                                     'are also '
                                                                     'extracted '
                                                                     'for '
                                                                     'subclades',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'Clade '
                                                                      'for '
                                                                      'which '
                                                                      'to '
                                                                      'extract '
                                                                      'list of '
                                                                      'markers '
                                                                      'present',
                                                             'model_class': 'TextToolParameter',
                                                             'name': 'clade',
                                                             'optional': True,
                                                             'refresh_on_change': False,
                                                             'type': 'text',
                                                             'value': ''},
                                                         {   'area': False,
                                                             'argument': '--min_ab',
                                                             'datalist': [],
                                                             'help': '',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'The '
                                                                      'minimum '
                                                                      'percentage '
                                                                      'abundance '
                                                                      'for the '
                                                                      'clade',
                                                             'max': None,
                                                             'min': None,
                                                             'model_class': 'FloatToolParameter',
                                                             'name': 'min_ab',
                                                             'optional': True,
                                                             'refresh_on_change': False,
                                                             'type': 'float',
                                                             'value': None}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'clade_specific_strain_tracker'},
                                       {   'inputs': [   {   'area': False,
                                                             'argument': '--nreads',
                                                             'datalist': [],
                                                             'help': 'It is '
                                                                     'used for '
                                                                     'normalizing '
                                                                     'the '
                                                                     'length-normalized '
                                                                     'counts '
                                                                     'with the '
                                                                     'microbiota '
                                                                     'size as '
                                                                     'well. No '
                                                                     'normalization '
                                                                     'applied '
                                                                     'if the '
                                                                     'value is '
                                                                     'not '
                                                                     'specified',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'Total '
                                                                      'number '
                                                                      'of '
                                                                      'reads '
                                                                      'in the '
                                                                      'original '
                                                                      'microbiota',
                                                             'max': None,
                                                             'min': None,
                                                             'model_class': 'IntegerToolParameter',
                                                             'name': 'nreads',
                                                             'optional': True,
                                                             'refresh_on_change': False,
                                                             'type': 'integer',
                                                             'value': None}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'marker_ab_table'},
                                       {   'inputs': [],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'marker_counts'},
                                       {   'inputs': [   {   'area': False,
                                                             'argument': '--pres_th',
                                                             'datalist': [],
                                                             'help': '',
                                                             'hidden': False,
                                                             'is_dynamic': False,
                                                             'label': 'Threshold '
                                                                      'for '
                                                                      'calling '
                                                                      'a '
                                                                      'marker '
                                                                      'present',
                                                             'max': None,
                                                             'min': None,
                                                             'model_class': 'IntegerToolParameter',
                                                             'name': 'pres_th',
                                                             'optional': True,
                                                             'refresh_on_change': False,
                                                             'type': 'integer',
                                                             'value': None}],
                                           'model_class': 'ConditionalWhen',
                                           'value': 'marker_pres_table'}],
                          'model_class': 'Conditional',
                          'name': 'analysis_type',
                          'test_param': {   'argument': '-t',
                                            'display': None,
                                            'help': '',
                                            'hidden': False,
                                            'is_dynamic': False,
                                            'label': 'Type of analysis to '
                                                     'perform',
                                            'model_class': 'SelectToolParameter',
                                            'multiple': False,
                                            'name': 't',
                                            'optional': False,
                                            'options': [   [   'rel_ab: '
                                                               'Profiling a '
                                                               'microbiota in '
                                                               'terms of '
                                                               'relative '
                                                               'abundances',
                                                               'rel_ab',
                                                               True],
                                                           [   'rel_ab_w_read_stats: '
                                                               'Profiling a '
                                                               'microbiota in '
                                                               'terms of '
                                                               'relative '
                                                               'abundances and '
                                                               'estimate the '
                                                               'number of '
                                                               'reads comming '
                                                               'from each '
                                                               'clade',
                                                               'rel_ab_w_read_stats',
                                                               False],
                                                           [   'reads_map: '
                                                               'Mapping from '
                                                               'reads to '
                                                               'clades (only '
                                                               'reads hitting '
                                                               'a marker)',
                                                               'reads_map',
                                                               False],
                                                           [   'clade_profiles: '
                                                               'Normalized '
                                                               'marker counts '
                                                               'for clades '
                                                               'with at least '
                                                               'a non-null '
                                                               'marker',
                                                               'clade_profiles',
                                                               False],
                                                           [   'clade_specific_strain_tracker: '
                                                               'List of '
                                                               'markers '
                                                               'present for a '
                                                               'specific clade '
                                                               'and all its '
                                                               'subclades',
                                                               'clade_specific_strain_tracker',
                                                               False],
                                                           [   'marker_ab_table: '
                                                               'Normalized '
                                                               'marker counts '
                                                               '(only when > '
                                                               '0.0 and '
                                                               'normalized by '
                                                               'microbiota '
                                                               'size if number '
                                                               'of reads is '
                                                               'specified)',
                                                               'marker_ab_table',
                                                               False],
                                                           [   'marker_counts: '
                                                               'Non-normalized '
                                                               'marker counts '
                                                               '(use with '
                                                               'extreme '
                                                               'caution)',
                                                               'marker_counts',
                                                               False],
                                                           [   'marker_pres_table: '
                                                               'List of '
                                                               'markers '
                                                               'present in the '
                                                               'sample '
                                                               '(threshold at '
                                                               '1.0 if not '
                                                               'differently '
                                                               'specified with '
                                                               '--pres_th',
                                                               'marker_pres_table',
                                                               False]],
                                            'refresh_on_change': True,
                                            'textable': False,
                                            'type': 'select',
                                            'value': 'rel_ab'},
                          'type': 'conditional'},
                      {   'area': False,
                          'argument': '--min_cu_len',
                          'datalist': [],
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Minimum total nucleotide length for the '
                                   'markers in a clade for estimating the '
                                   'abundance without considering sub-clade '
                                   'abundances',
                          'max': None,
                          'min': None,
                          'model_class': 'IntegerToolParameter',
                          'name': 'min_cu_len',
                          'optional': False,
                          'refresh_on_change': False,
                          'type': 'integer',
                          'value': '2000'},
                      {   'area': False,
                          'argument': '--min_alignment_len',
                          'datalist': [],
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Sam records for aligned reads with the '
                                   'longest subalignment length smaller than '
                                   'this threshold will be discarded.',
                          'max': None,
                          'min': None,
                          'model_class': 'IntegerToolParameter',
                          'name': 'min_alignment_len',
                          'optional': True,
                          'refresh_on_change': False,
                          'type': 'integer',
                          'value': None},
                      {   'argument': None,
                          'display': None,
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Organisms to profile',
                          'model_class': 'SelectToolParameter',
                          'multiple': True,
                          'name': 'organism_profiling',
                          'optional': True,
                          'options': [   [   'Profile viral organisms '
                                             '(add_viruses)',
                                             'add_viruses',
                                             True],
                                         [   'Ignore eukaryotic organisms '
                                             '(ignore_eukaryotes)',
                                             'ignore_eukaryotes',
                                             False],
                                         [   'Ignore bacteria organisms '
                                             '(ignore_bacteria)',
                                             'ignore_bacteria',
                                             False],
                                         [   'Ignore archea organisms '
                                             '(ignore_archaea)',
                                             'ignore_archaea',
                                             False]],
                          'refresh_on_change': False,
                          'textable': False,
                          'type': 'select',
                          'value': 'add_viruses'},
                      {   'argument': '--stat',
                          'display': None,
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Statistical approach for converting marker '
                                   'abundances into clade abundances',
                          'model_class': 'SelectToolParameter',
                          'multiple': False,
                          'name': 'stat',
                          'optional': False,
                          'options': [   [   'avg_g: Clade global (i.e. '
                                             'normalizing all markers '
                                             'together) average (avg_g)',
                                             'avg_g',
                                             False],
                                         [   'avg_l: Average of '
                                             'length-normalized marker counts',
                                             'avg_l',
                                             False],
                                         [   'tavg_g: Truncated clade global '
                                             'average at --stat_q quantile',
                                             'tavg_g',
                                             True],
                                         [   'tavg_l: Truncated average of '
                                             'length-normalized marker counts '
                                             '(at --stat_q)',
                                             'tavg_l',
                                             False],
                                         [   'wavg_g: Winsorized clade global '
                                             'average (at --stat_q)',
                                             'wavg_g',
                                             False],
                                         [   'wavg_l: Winsorized average of '
                                             'length-normalized marker counts '
                                             '(at --stat_q)',
                                             'wavg_l',
                                             False],
                                         [   'med: Median of length-normalized '
                                             'marker counts',
                                             'med',
                                             False]],
                          'refresh_on_change': False,
                          'textable': False,
                          'type': 'select',
                          'value': 'tavg_g'},
                      {   'area': False,
                          'argument': '--stat_q',
                          'datalist': [],
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Quantile value for the robust average',
                          'max': None,
                          'min': None,
                          'model_class': 'FloatToolParameter',
                          'name': 'stat_q',
                          'optional': False,
                          'refresh_on_change': False,
                          'type': 'float',
                          'value': '0.2'},
                      {   'area': False,
                          'argument': '--perc_nonzero',
                          'datalist': [],
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Percentage of markers with a non zero '
                                   'relative abundance for misidentify a '
                                   'species',
                          'max': None,
                          'min': None,
                          'model_class': 'FloatToolParameter',
                          'name': 'perc_nonzero',
                          'optional': False,
                          'refresh_on_change': False,
                          'type': 'float',
                          'value': '0.33'},
                      {   'argument': '--ignore_markers',
                          'edam': {   'edam_data': ['data_0006', 'data_0006'],
                                      'edam_formats': [   'format_2330',
                                                          'format_3475']},
                          'extensions': ['txt', 'tabular'],
                          'help': 'One marker per line',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'File containing a list of markers to '
                                   'ignore',
                          'model_class': 'DataToolParameter',
                          'multiple': False,
                          'name': 'ignore_markers',
                          'optional': True,
                          'options': {'hda': [], 'hdca': []},
                          'refresh_on_change': True,
                          'tag': None,
                          'type': 'data',
                          'value': None},
                      {   'argument': '--avoid_disqm',
                          'falsevalue': '',
                          'help': 'It is generally recommended to keep the '
                                  'disambiguation procedure in order to '
                                  'minimize false positives',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Deactivate the procedure of disambiguating '
                                   'the quasi-markers based on the marker '
                                   'abundance pattern found in the sample?',
                          'model_class': 'BooleanToolParameter',
                          'name': 'avoid_disqm',
                          'optional': False,
                          'refresh_on_change': False,
                          'truevalue': '--avoid_disqm',
                          'type': 'boolean',
                          'value': True}],
        'model_class': 'Section',
        'name': 'analysis',
        'title': 'Analysis',
        'type': 'section'},
    {   'expanded': True,
        'help': None,
        'inputs': [   {   'area': False,
                          'argument': '--sample_id_key',
                          'datalist': [],
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Sample ID key for this analysis',
                          'model_class': 'TextToolParameter',
                          'name': 'sample_id_key',
                          'optional': True,
                          'refresh_on_change': False,
                          'type': 'text',
                          'value': 'SampleID'},
                      {   'area': False,
                          'argument': '--sample_id',
                          'datalist': [],
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Sample ID for this analysis',
                          'model_class': 'TextToolParameter',
                          'name': 'sample_id',
                          'optional': True,
                          'refresh_on_change': False,
                          'type': 'text',
                          'value': 'Metaphlan_Analysis'},
                      {   'argument': '--use_group_representative',
                          'falsevalue': '',
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Use a species as representative for '
                                   'species groups?',
                          'model_class': 'BooleanToolParameter',
                          'name': 'use_group_representative',
                          'optional': False,
                          'refresh_on_change': False,
                          'truevalue': '--use_group_representative',
                          'type': 'boolean',
                          'value': False},
                      {   'argument': '--legacy-output',
                          'falsevalue': '',
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Old MetaPhlAn2 two columns output?',
                          'model_class': 'BooleanToolParameter',
                          'name': 'legacy_output',
                          'optional': False,
                          'refresh_on_change': False,
                          'truevalue': '--legacy-output',
                          'type': 'boolean',
                          'value': False},
                      {   'argument': '--CAMI_format_output',
                          'falsevalue': '',
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Report the profiling using the CAMI output '
                                   'format?',
                          'model_class': 'BooleanToolParameter',
                          'name': 'CAMI_format_output',
                          'optional': False,
                          'refresh_on_change': False,
                          'truevalue': '--CAMI_format_output',
                          'type': 'boolean',
                          'value': False},
                      {   'argument': '--unknown_estimation',
                          'falsevalue': '',
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Scale relative abundances to the number of '
                                   'reads mapping to known clades in order to '
                                   'estimate unknowness?',
                          'model_class': 'BooleanToolParameter',
                          'name': 'unknown_estimation',
                          'optional': False,
                          'refresh_on_change': False,
                          'truevalue': '--unknown_estimation',
                          'type': 'boolean',
                          'value': False},
                      {   'argument': None,
                          'falsevalue': 'false',
                          'help': '',
                          'hidden': False,
                          'is_dynamic': False,
                          'label': 'Output for Krona?',
                          'model_class': 'BooleanToolParameter',
                          'name': 'krona_output',
                          'optional': False,
                          'refresh_on_change': False,
                          'truevalue': 'true',
                          'type': 'boolean',
                          'value': False}],
        'model_class': 'Section',
        'name': 'out',
        'title': 'Outputs',
        'type': 'section'}]
